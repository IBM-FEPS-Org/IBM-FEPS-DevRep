<div class="manage-news-landing-page-container manage-cycle-container container"
     ng-controller="ManageProjectsController" data-ng-init="init()">
    <h2 class="mainTitle">{{ 'ManageProjectsMainTitle' | translate }}</h2>
    <!-- Side Nav -->
    <div class="tabsConatiner col-xs-3 col-sm-3 col-md-3 col-lg-3 col-xl-3 pull-right">
        <ng-include src="'components/adminSideMenu/adminSideMenu.view.html'"
                    ng-controller="adminSideMenuController"></ng-include>
    </div>
    <!-- Content -->
    <div ng-show="noProjects" class="marginTop50 alert alert-danger text-center col-xs-9 col-sm-9 col-md-9 col-lg-9 col-xl-9 pull-right">
        {{ 'noProjectsMsg' | translate  }}
    </div>
    <div ng-show="!noProjects" class="contentConatainer col-xs-9 col-sm-9 col-md-9 col-lg-9 col-xl-9 pull-right">
    <uib-tabset active="activeTab">
    	<uib-tab index="0">
	    	<uib-tab-heading>
		             {{ 'projectsDataTable' | translate }}
	        </uib-tab-heading>
        <div ng-if="!registeredUser" grid-data id='test' grid-options="gridOptions" grid-actions="gridActions" class="tableContainer">
            
            <table class="tableRow">
	            <thead>
			        <tr class="tableRow" style="width:30%">
			            <td colspan="2">
			                <label class="pull-right">{{ 'manageProjectsProjectName' | translate }}:</label>
			            </td>
			            <td colspan="4">
			                <input  type="text" class="form-control order-search-box"
			                       placeholder="{{ 'manageUsersSearch' | translate }}"
			                       ng-change="gridActions.filter()"
			                       ng-model="startupName"
			                       id = "startupName"
			                       filter-by="startupName"
			                       filter-type="text">
			            </td>
			            <td colspan="2">
			            	<div class="row" ng-show="isReviewed">
				                <div ng-show="showAssignMentor" class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-xs-12">
				                    <div class="createNewsBtn" ng-click="openAssignMentor()">{{ 'manageProjectsAssignMentor' | translate }}</div>
				                </div>
				            </div>
			            </td>
			        </tr>
			    </thead>
                <thead>
                <tr class="tableRow MainRow">
                    <!--<th sortable="_id" class="sortable">
                        ID #
                    </th>-->
                    <th ng-show="showSelect" class="tableCell">
                        <input type="checkbox" ng-checked="false" ng-model="selectedAll" ng-change="checkAll()"/>
                    </th>
                    <th class="tableCell sortable" sortable="startupName">
                        {{ 'manageProjectsProjectName' | translate }}
                    </th>
                    <th class="tableCell sortable" sortable='email'>
                        {{ 'manageProjectsProjectStatus' | translate }}
                    </th>
                    <th class="tableCell">
                        {{ 'manageProjectsProjectMentor' | translate }}
                    </th>
                    <th class="tableCell sortable" sortable='submissionDate'>
                        {{ 'manageProjectsProjectSubmissionDate' | translate }}
                    </th>
                    <th ng-show="showFeedback" class="tableCell">
                        {{ 'manageProjectsProjectFeedback' | translate }}
                    </th>
                    <th ng-show="showScore" class="tableCell">
                        {{ 'manageProjectsProjectScore' | translate }}
                    </th>
                    <th ng-show="showAcceptReject && isReviewed" class="tableCell">
                         {{ 'manageProjectsProjectAction' | translate }}
                    </th>
                </tr>
                </thead>
                <tbody>
                <!--<tr class="tableRow" grid-item ng-class-odd="rowA" ng-class-even="rowB" ng-repeat="item in filtered | startFrom:(paginationOptions.currentPage-1)*paginationOptions.itemsPerPage | limitTo:paginationOptions.itemsPerPage track by $index">-->
                <tr class="tableRow" grid-item ng-class-odd="rowA" ng-class-even="rowB">
                    <td ng-show="showSelect" class="tableCell">
                        <input type="checkbox" ng-change="getSelectedProjects($index)" ng-model="item.selected"/>
                    </td>
                    <td class="tableCell">
                        <a href="#" ng-click="openProjectDetails(item._id)" ng-bind="item.startupName"></a>
                    </td>
                    <td class="tableCell" ng-bind="getItemNametById(projectStatusArray,item.status)"></td>
                    <td class="tableCell">
                        <a href="#" ng-bind="item.mentors[0].username" ng-click="openProfile(item.mentors[0].username)"> Mentor</a>
                    </td>
                    <td class="tableCell" ng-bind="item.submissionDate | date:'yyyy-MM-dd h:mma'"></td>
                    <td ng-show="showFeedback" class="tableCell">
                        <a href="#"  ng-click="openFeedback(item)"> {{ 'manageProjectsProjectShowFeedback' | translate }}</a>
                    </td>
                    <td ng-show="showScore" class="tableCell" ng-bind="item.score"></td>
                    <td ng-show="showAcceptReject && isReviewed" class="tableCell">
                        <button ng-disabled="item.status ==5" type="button" class="actionBtn btn greenBtn pull-right" ng-click="changeProjectStatus(item,5)">{{ 'manageProjectsProjectActionAccept' | translate }}</button>
                        <button ng-disabled="item.status ==4" type="button" class="actionBtn btn dangerBtn pull-right" ng-click="changeProjectStatus(item,4)">{{ 'manageProjectsProjectActionReject' | translate }}</button>
                    </td>

                </tr>
                </tbody>
            </table>
            <form class="form-inline pull-right margin-bottom-basic">
                <div class="form-group">
                    <grid-pagination max-size="5"
                                     boundary-links="true"
                                     class="pagination-sm"
                                     total-items="paginationOptions.totalItems"
                                     ng-model="paginationOptions.currentPage"
                                     ng-change="reloadGrid()"
                                     items-per-page="paginationOptions.itemsPerPage"></grid-pagination>
                </div>
                <div class="form-group items-per-page">
                    <label for="itemsOnPageSelect2">{{ 'manageUsersItemsPerPage' | translate }}</label>
                    <select id="itemsOnPageSelect2" class="form-control input-sm"
                            ng-init="paginationOptions.itemsPerPage = '5'" ng-model="paginationOptions.itemsPerPage"
                            ng-change="reloadGrid()">
                        <option selected>5</option>
                        <option>10</option>
                        <option>20</option>
                        <option>30</option>
                    </select>
                    
                    <label id="totalNoOfProjects"></label>
                </div>
            </form>
        </div>
        </uib-tab>
        <uib-tab index="1">
	    	<uib-tab-heading>
		             {{ 'projectsDataChart' | translate }}
	        </uib-tab-heading>
	        <div ng-show="!isSuperAdmin" class="marginTop50 alert alert-danger text-center col-xs-9 col-sm-9 col-md-9 col-lg-9 col-xl-9 pull-right">
		        {{ 'notAuthorized' | translate  }}
		    </div>
	        <div class="tableContainer" ng-show="isSuperAdmin">
	        	<table class="">
	        		<thead>
		                <tr class="tableRow">
		                    <td>
		                        <label class="pull-right">{{ 'filterProjectsBy' | translate }}: </label>
		                    </td>
		                    <td>
		                        <select ng-init="selectedFilter = filterList[0].id"
		                                ng-options="filterType.id as filterType.name for filterType in filterList"
		                                ng-model="selectedFilter" ng-change="updateFilterBy(selectedFilter)"></select>
		                    </td>
		                </tr>
	        		</thead>
	        	</table>
	        	<div class="responsive-plot" id="chart">
	        	
	        	</div>
	        	<br/>
	        	<button class="downloadBtn" ng-click="download()">Download CSV</button> 
	        
	        </div>
	    </uib-tab>
        </uib-tabset> 
        <div ng-if="registeredUser" class="alert alert-danger SuccessMsgPopup text-center">{{currentErrorMessage}}</div>
    </div>
</div>
</div>